# PRO LAB ‚Äî Enterprise WiFi Variants Testing

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Enterprise WiFi (WPA2/WPA3 Enterprise) —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## üìã –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å –Ω–∞–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π hostapd –¥–ª—è —Ä–∞–∑–Ω—ã—Ö **–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Enterprise security**, —á—Ç–æ–±—ã:
1. –ü–æ–¥–Ω—è—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å–µ—Ç—å
2. –ü—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
3. –í—ã–∫–ª—é—á–∏—Ç—å —Å–µ—Ç—å
4. –ü–æ–¥–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## üîç –ß—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

> **–í–∞–∂–Ω–æ:** EAP-–º–µ—Ç–æ–¥ (PEAP/TTLS/TLS) –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–∫–∞–Ω–µ—Ä–∞ –æ–±—ã—á–Ω–æ **–Ω–µ –≤–∏–¥–µ–Ω**.

–°–∫–∞–Ω–µ—Ä –≤–∏–¥–∏—Ç:
- **WPA2/WPA3** –≤–µ—Ä—Å–∏—é –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
- **AKM** (WPA-EAP / WPA-EAP-SHA256 / Suite-B)
- **PMF** (802.11w) ‚Äî Management Frame Protection
- **Cipher** (CCMP/GCMP)

–ò–º–µ–Ω–Ω–æ –ø–æ —ç—Ç–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–∞—Ä–∏–∞—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
prolab_ap/
‚îú‚îÄ‚îÄ hostapd/
‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ radius.conf          # –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ RADIUS
‚îÇ   ‚îú‚îÄ‚îÄ generated/               # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ (–±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ 2g/                      # –†–µ–∑–µ—Ä–≤ –¥–ª—è —Ä—É—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ 2.4GHz
‚îÇ   ‚îî‚îÄ‚îÄ 5g/                      # –†–µ–∑–µ—Ä–≤ –¥–ª—è —Ä—É—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ 5GHz
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ gen-enterprise-variants.sh   # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ap-run.sh                    # –ó–∞–ø—É—Å–∫ Access Point
‚îÇ   ‚îî‚îÄ‚îÄ install-to-server.sh         # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/prolab_ap

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏
./scripts/gen-enterprise-variants.sh

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
ls -1 hostapd/generated/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
git clone <repository-url> /tmp/prolab_ap
cd /tmp/prolab_ap

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
sudo ./scripts/install-to-server.sh
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –≤ `/opt/prolab/`.

## üìù –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è

1. **Wi-Fi –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** `wlx001f0566a9c0` (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `IFACE`)
2. **FreeRADIUS** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ: `127.0.0.1:1812/1813`
3. **Shared secret:** `testing123` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ FreeRADIUS)
4. **NetworkManager** –Ω–µ –¥–æ–ª–∂–µ–Ω —É–ø—Ä–∞–≤–ª—è—Ç—å Wi-Fi –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã hostapd

## üîß –í–∞—Ä–∏–∞–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç **7 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (2.4GHz –∏ 5GHz):

| –í–∞—Ä–∏–∞–Ω—Ç | SSID —Å—É—Ñ—Ñ–∏–∫—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|--------------|----------|
| 1 | `WPA2EAP-CCMP-PMF0` | WPA2-Enterprise, CCMP, PMF –≤—ã–∫–ª—é—á–µ–Ω |
| 2 | `WPA2EAP-CCMP-PMF1` | WPA2-Enterprise, CCMP, PMF –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| 3 | `WPA2EAP-CCMP-PMF2` | WPA2-Enterprise, CCMP, PMF –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω |
| 4 | `WPA2EAPSHA256-CCMP-PMF2` | WPA2-Enterprise SHA256, CCMP, PMF –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω |
| 5 | `WPA2EAP+SHA256-CCMP-PMF1` | Mixed AKM (WPA-EAP + SHA256), PMF –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| 6 | `WPA2EAP-GCMP-PMF1` | WPA2-Enterprise, GCMP cipher (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è) |
| 7 | `WPA3EAP-SUITEB192-PMF2` | WPA3-Enterprise 192-bit (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è) |

### –ü—Ä–∏–º–µ—Ä—ã SSID

- 2.4GHz: `LAB-24-WPA2EAP-CCMP-PMF0`
- 5GHz: `LAB-5G-WPA2EAP-CCMP-PMF1`

## üéØ –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å FreeRADIUS (–æ–∫–Ω–æ ‚Ññ1)

```bash
sudo freeradius -X
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å hostapd —Å –Ω—É–∂–Ω—ã–º –∫–æ–Ω—Ñ–∏–≥–æ–º (–æ–∫–Ω–æ ‚Ññ2)

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤
ls -1 /opt/prolab/hostapd/generated/

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–ø—Ä–∏–º–µ—Ä –¥–ª—è 2.4GHz, WPA2, PMF off)
/opt/prolab/scripts/ap-run.sh /opt/prolab/hostapd/generated/LAB-24-WPA2EAP-CCMP-PMF0.conf

# –ò–ª–∏ –¥–ª—è 5GHz —Å PMF required
/opt/prolab/scripts/ap-run.sh /opt/prolab/hostapd/generated/LAB-5G-WPA2EAP-CCMP-PMF2.conf
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Ç—å

–ù–∞–∂–∞—Ç—å `Ctrl+C` –≤ –æ–∫–Ω–µ —Å hostapd

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —à–∞–≥ 2 —Å –¥—Ä—É–≥–∏–º –∫–æ–Ω—Ñ–∏–≥–æ–º.

## üìä –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è SSID –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

SSID –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ß–∞—Å—Ç—å SSID | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------------|----------|
| `24` –∏–ª–∏ `5G` | –î–∏–∞–ø–∞–∑–æ–Ω —á–∞—Å—Ç–æ—Ç |
| `WPA2EAP` | WPA2-Enterprise / 802.1X |
| `WPA3EAP` | WPA3-Enterprise |
| `EAPSHA256` –∏–ª–∏ `+SHA256` | AKM —Å SHA256 |
| `PMF0` / `PMF1` / `PMF2` | PMF off / optional / required |
| `CCMP` / `GCMP` | Cipher suite |
| `SUITEB192` | WPA3-Enterprise 192-bit |

## ‚ö†Ô∏è –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –≤–∞—à–∏–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º:

- **WPA-EAP-SUITE-B-192** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Suite-B
- **GCMP/GCMP-256** ‚Äî –Ω–µ –≤—Å–µ –¥—Ä–∞–π–≤–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥ hostapd (–æ–Ω –ø–æ–∫–∞–∂–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:
```
Selected cipher suite does not support encryption
```

## üîÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# –ò–∑–º–µ–Ω–∏—Ç—å Wi-Fi –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
export IFACE=wlan0

# –ò–∑–º–µ–Ω–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤—ã–≤–æ–¥–∞
export OUT=/path/to/output

# –ò–∑–º–µ–Ω–∏—Ç—å –ø—É—Ç—å –∫ RADIUS –∫–æ–Ω—Ñ–∏–≥—É
export COMMON=/path/to/radius.conf

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
./scripts/gen-enterprise-variants.sh
```

## üìù –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ RADIUS

–§–∞–π–ª `hostapd/common/radius.conf` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤:

```ini
auth_server_addr=127.0.0.1
auth_server_port=1812
auth_server_shared_secret=testing123

acct_server_addr=127.0.0.1
acct_server_port=1813
acct_server_shared_secret=testing123

own_ip_addr=127.0.0.1

ieee8021x=1
eapol_version=2
auth_algs=1
```

## üîú –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞—Ü–∏–∏ –ø–æ **—à–∏—Ä–∏–Ω–µ –∫–∞–Ω–∞–ª–∞** (20/40/80 MHz)
- [ ] –°–æ–∑–¥–∞—Ç—å "Ultimate WiFi Lab Map" (—Ç–∞–±–ª–∏—Ü–∞: SSID ‚Üí –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ —Å–∫–∞–Ω–µ—Ä–∞)
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è NetworkManager

```bash
nmcli dev status | grep wlx001f0566a9c0
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `unmanaged` –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã hostapd.

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ FreeRADIUS

```bash
sudo systemctl status freeradius
# –∏–ª–∏
ps aux | grep freeradius
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ hostapd –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

hostapd –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å —Ñ–ª–∞–≥–æ–º `-dd` (–¥–≤–æ–π–Ω–æ–π debug), –≤—Å–µ –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üë§ –ê–≤—Ç–æ—Ä

PRO LAB Project
